<!DOCTYPE html>
<html>
<body>
<body>
    <div id="app">
      <button id="btn">Play Radio</button>
      <button id="btn2">Pause Radio</button>
    </div>

    <script src="src/index.js"></script>

</body>
</html>

<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" /> 
    <title>ShakyRadioUK</title>
    <style>
	@media screen and (max-width: 481px){
          body{
           transition: .182s;
          }
          body.dark{
            background-color: #212121;
            color: #e8e8e8;
          }
	 }
    </style>
  </head>
  <body>
	<h4>Volume Slider Is Below, we are also taking song requests on our discord server! (https://discord.gg/BsXNyfTM)</h4>
	<input id="vol-control" type="range" min="0" max="100" step="1" oninput="SetVolume(this.value)" onchange="SetVolume(this.value)"></input>
    <h2>Click the play button above to start streaming Shake Radio</h2>
    <button onclick="enableDarkMode()">Dark Mode</button>
    <button onclick="enableLightMode()">Light Mode</button>
    
    <script>
      checkDarkMode();

      function enableLightMode(){
        document.body.classList.remove("dark");
        localStorage.darkMode = false;
      }
      function enableDarkMode(){
        document.body.classList.add("dark");
        localStorage.darkMode = true;
      }
      function checkDarkMode(){
        if(localStorage.darkMode){
          document.body.classList.add("dark");
        }
        else{
          document.body.classList.remove("dark");
        }
      }
    </script>
  </body>
</html>
<script>

const btn = document.getElementById("btn");
const audio = new Audio(
    "http://stream.zeno.fm/qdjnvidrtmotv"
  );

btn.onclick = () => {
  audio.play();
};

btn2.onclick = () => {
  audio.pause();
};

const body = document.querySelector("body");
body.addEventListener("keypress", runEvent);


let globalVolume = 1;
window.SetVolume = function(val) {
  console.log("Before: " + audio.volume);
  audio.volume = val / 100;
  globalVolume = audio.volume;
  console.log("After: " + audio.volume);
};
function runEvent(e) {
  const keyName = event.key;
  const note = document.querySelector(`[data-sound-id="${keyName}"]`).play();

  // alert("keypress event\n\n" + "key: " + keyName);
  console.log(`EVENT TYPE: ${e.type}`);
  console.log(e.target.value);
  console.log(keyName);
  heading.value = "";
  heading.innerText = keyName;
}
</script>
